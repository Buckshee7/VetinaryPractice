{% extends 'base.html' %}

{% block content %}
    <div class="primary_info" >
        <img src="../{{ animal.img_url }}" alt="Profile picture of {{ animal.name }}">
        <h2>{{ animal.name }}</h2>
        <p>Animal Type: {{ animal.animal_type }}</p>
        <p>D.O.B.: {{ animal.dob }}</p>
        <p>Age: {{ animal.calculate_age() }}</p>
        <a href="/animals/{{ animal.id }}/edit">Edit</a>
    </div>
    <div>
        <h3>Owner Details</h3>
        <p>Name: {{ animal.owner.title}} {{ animal.owner.first_name}} {{ animal.owner.last_name}}</p>
        <p>Phone: {{ animal.owner.phone }}</p>
    </div>
    </div>
    <div class="secondary_info">
        <h3>Assigned Vetinarian</h3>
        {% if animal.vet %} 
            <a href="/vets/{{ animal.vet.id }}">
                <img src="../{{ animal.vet.img_url }}" alt="Profile picture of Dr {{ animal.vet.last_name }}">
            </a>
            <p>Dr {{ animal.vet.last_name }}</p>
        {% else %}
            <p>-- NO VET ASSIGNED--</p>
        {% endif %}
        <h3>Treatment Notes</h3>
        <h4>Upcoming</h4>
            {% if treatments_future %}
                {% for treatment in treatments_future %}
                    <p>{{ treatment.date }} : {{ treatment.details }} <a href="/treatments/{{ treatment.id }}">Details</a></p>
                {% endfor %}
            {% else %}
                <p>-- NO TREATMENTS ARRANGED --</p>
            {% endif %}
        <h4>Historic</h4>
            {% if treatments_past %}
                {% for treatment in treatments_past %}
                    <p>{{ treatment.date }} : {{ treatment.details }} <a href="/treatments/{{ treatment.id }}">Details</a></p>
                {% endfor %}
            {% else %}
                <p>-- NO HISTORIC TREATMENTS --</p>
            {% endif %}
    </div>
{% endblock %}